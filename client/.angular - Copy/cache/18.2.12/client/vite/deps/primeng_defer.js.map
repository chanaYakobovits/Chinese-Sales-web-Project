{
  "version": 3,
  "sources": ["../../../../../../node_modules/primeng/fesm2022/primeng-defer.mjs"],
  "sourcesContent": ["import { isPlatformBrowser, DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, PLATFORM_ID, TemplateRef, Directive, Inject, Output, ContentChild, NgModule } from '@angular/core';\n\n/**\n * Defer postpones the loading the content that is initially not in the viewport until it becomes visible on scroll.\n * @group Components\n */\nclass DeferredLoader {\n  document;\n  platformId;\n  el;\n  renderer;\n  viewContainer;\n  cd;\n  /**\n   * Callback to invoke when deferred content is loaded.\n   * @param {Event} event - Browser event.\n   * @group Emits\n   */\n  onLoad = new EventEmitter();\n  template;\n  documentScrollListener;\n  view;\n  window;\n  constructor(document, platformId, el, renderer, viewContainer, cd) {\n    this.document = document;\n    this.platformId = platformId;\n    this.el = el;\n    this.renderer = renderer;\n    this.viewContainer = viewContainer;\n    this.cd = cd;\n    this.window = this.document.defaultView;\n  }\n  ngAfterViewInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      if (this.shouldLoad()) {\n        this.load();\n      }\n      if (!this.isLoaded()) {\n        this.documentScrollListener = this.renderer.listen(this.window, 'scroll', () => {\n          if (this.shouldLoad()) {\n            this.load();\n            this.documentScrollListener && this.documentScrollListener();\n            this.documentScrollListener = null;\n          }\n        });\n      }\n    }\n  }\n  shouldLoad() {\n    if (this.isLoaded()) {\n      return false;\n    } else {\n      let rect = this.el.nativeElement.getBoundingClientRect();\n      let docElement = this.document.documentElement;\n      let winHeight = docElement.clientHeight;\n      return winHeight >= rect.top;\n    }\n  }\n  load() {\n    this.view = this.viewContainer.createEmbeddedView(this.template);\n    this.onLoad.emit();\n    this.cd.detectChanges();\n  }\n  isLoaded() {\n    return this.view != null && isPlatformBrowser(this.platformId);\n  }\n  ngOnDestroy() {\n    this.view = null;\n    if (this.documentScrollListener) {\n      this.documentScrollListener();\n    }\n  }\n  static ɵfac = function DeferredLoader_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || DeferredLoader)(i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(PLATFORM_ID), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: DeferredLoader,\n    selectors: [[\"\", \"pDefer\", \"\"]],\n    contentQueries: function DeferredLoader_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, TemplateRef, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.template = _t.first);\n      }\n    },\n    hostAttrs: [1, \"p-element\"],\n    outputs: {\n      onLoad: \"onLoad\"\n    }\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DeferredLoader, [{\n    type: Directive,\n    args: [{\n      selector: '[pDefer]',\n      host: {\n        class: 'p-element'\n      }\n    }]\n  }], () => [{\n    type: Document,\n    decorators: [{\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: i0.ElementRef\n  }, {\n    type: i0.Renderer2\n  }, {\n    type: i0.ViewContainerRef\n  }, {\n    type: i0.ChangeDetectorRef\n  }], {\n    onLoad: [{\n      type: Output\n    }],\n    template: [{\n      type: ContentChild,\n      args: [TemplateRef]\n    }]\n  });\n})();\nclass DeferModule {\n  static ɵfac = function DeferModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || DeferModule)();\n  };\n  static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: DeferModule,\n    declarations: [DeferredLoader],\n    imports: [CommonModule],\n    exports: [DeferredLoader]\n  });\n  static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [CommonModule]\n  });\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DeferModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      exports: [DeferredLoader],\n      declarations: [DeferredLoader]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DeferModule, DeferredLoader };\n"],
  "mappings": "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",
  "names": []
}
